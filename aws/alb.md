## ALB

## 接続のアイドルタイムアウト
クライアント<-> ALB間はフロントエンド接続、ALB<->ターゲット間はバックエンド接続と呼ぶ

> ロードバランサーは、各フロントエンド接続で、指定された期間に接続でデータが送信されない場合にトリガーされるアイドルタイムアウトを管理します。アイドルタイムアウトが経過するまでデータが送受信されなかった場合、ロードバランサーはフロントエンド接続を閉じます。

> バックエンド接続では EC2 インスタンスにキープアライブオプションを有効にすることが推奨されます。ウェブサーバーの設定または EC2 インスタンスのカーネル設定で、キープアライブを有効にすることができます。キープアライブを有効にすると、オペレーション完了時にインスタンスがバックエンド接続を切断できるようになります。

カーネルのkeepaliveの設定は以下

- tcp_keepalive_time  :
- tcp_keepalive_intvl :
- tcp_keepalive_probes:

ジャンボフレームを使えるようにするにはMTUの設定が必要 [EC2 インスタンスの最大ネットワーク送信単位 \(MTU\) \- Amazon Elastic Compute Cloud](http://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/network_mtu.html#path_mtu_discovery)
